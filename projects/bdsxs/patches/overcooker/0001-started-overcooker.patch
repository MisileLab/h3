From 0035fbd2f12f05fbf8e239e8d868f91cb1d2cd65 Mon Sep 17 00:00:00 2001
From: MisileLab <misileminecord@gmail.com>
Date: Sun, 5 Nov 2023 02:17:48 +0900
Subject: [PATCH] started - overcooker

---
 scripts/index.ts           |  2 +-
 scripts/overcooker/main.ts | 29 +++++++++++++++++++++++++++++
 2 files changed, 30 insertions(+), 1 deletion(-)
 create mode 100644 scripts/overcooker/main.ts

diff --git a/scripts/index.ts b/scripts/index.ts
index 3f89b032..46333375 100644
--- a/scripts/index.ts
+++ b/scripts/index.ts
@@ -1 +1 @@
-import "./playerjoin";
+import "./overcooker/main";
diff --git a/scripts/overcooker/main.ts b/scripts/overcooker/main.ts
new file mode 100644
index 00000000..6dcd1a0d
--- /dev/null
+++ b/scripts/overcooker/main.ts
@@ -0,0 +1,29 @@
+import { GameType } from "bdsx/bds/player";
+import { MobEffectIds, MobEffectInstance } from "../../bdsx/bds/effects";
+import { CANCEL } from "../../bdsx/common";
+import { events } from "../../bdsx/event";
+
+events.playerJoin.on((e)=>{
+    // this is debug
+    if (e.player.getGameType() != GameType.Survival) {e.player.setGameType(GameType.Creative);}
+})
+
+events.blockInteractedWith.on((e)=>{
+    if (e.player.hasEffect(MobEffectIds.Slowness)) {
+        return CANCEL;
+    }
+    const block = e.player.getRegion().getBlock(e.blockPos);
+    if (block.blockLegacy.getCommandName() == "minecraft:furnace") {
+
+    } else {
+        return CANCEL;
+    }
+    e.player.addEffect(MobEffectInstance.create(MobEffectIds.Slowness, 5 * 20, 255, false, true, false));
+    return CANCEL;
+})
+
+events.playerDropItem.on((e)=>{
+    if (e.player.hasEffect(MobEffectIds.Slowness)) {
+        return CANCEL;
+    }
+})
-- 
2.42.0.windows.2

